<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Spring笔记 | Chenlei&#39;s Blog</title>
  <meta name="keywords" content=" Spring框架 ">
  <meta name="description" content="Spring笔记 | Chenlei&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="个人简介Don’t fear failure. Life gets interesting when we fail, because it’s a sign that we’ve surpassed ourselves.">
<meta property="og:type" content="website">
<meta property="og:title" content="关于">
<meta property="og:url" content="http://example.com/about/index.html">
<meta property="og:site_name" content="Chenlei&#39;s Blog">
<meta property="og:description" content="个人简介Don’t fear failure. Life gets interesting when we fail, because it’s a sign that we’ve surpassed ourselves.">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-12-01T03:26:41.000Z">
<meta property="article:modified_time" content="2024-04-12T10:34:40.939Z">
<meta property="article:author" content="leiichen">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.0.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpg"/>
</a>
<div class="author">
    <span>leiichen</span>
</div>

<div class="icon">
    
        
            <a title="rss"
               href="/atom.xml"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-rss"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="github"
               href="https://github.com/leiichen/leiichen.github.io"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
            <a title="weibo"
               href="https://www.weibo.com/u/6473823872"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-weibo"></use>
                    </svg>
                
            </a>
        
    
        
    
        
            <a title="zhihu"
               href="https://www.zhihu.com/people/jaytp/activities"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-zhihu"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
            <a title="email"
               href="mailto:1216271933@qq.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=1216271933&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="kugou"
               href="https://www.kugou.com/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-kugou"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="neteasemusic"
               href="https://music.163.com/#/user/home?id=91350989"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-neteasemusic"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(28)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="工具">
            
            工具
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="后端">
            <i class="fold iconfont icon-right"></i>
            后端
            <small>(2)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="后端&lt;---&gt;中间件">
            
            中间件
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="数据库">
            
            数据库
            <small>(3)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="运维">
            
            运维
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="408">
            
            408
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="部署">
            
            部署
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="深度学习">
            
            深度学习
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="Git">
            
            Git
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="Hexo">
            
            Hexo
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="Java">
            <i class="fold iconfont icon-right"></i>
            Java
            <small>(5)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="Java&lt;---&gt;基础">
            
            基础
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;源码分析">
            
            源码分析
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;Spring">
            
            Spring
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="Java&lt;---&gt;SpringBoot">
            
            SpringBoot
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">关于</a>
        
        <a style="width: 50%"
                
                                           class="friends">友链</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="28">
<input type="hidden" id="yelog_site_word_count" value="24k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>部署</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>服务器</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>个人感悟</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>计算机网络</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>面试常见知识点</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>搜索技巧</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>消息队列</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ArrayList扩容机制</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>docker</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JVM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MyBatis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>MySQL面试题</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>redis的应用</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Spring框架</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringBoot小记</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ThreadLocal</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>typora</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 "
           href="/2024/04/13/HashMap%E7%9A%84%E6%89%A9%E5%AE%B9/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="HashMap的扩容">HashMap的扩容</span>
            <span class="post-date" title="2024-04-13 10:53:18">2024/04/13</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/04/13/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="线程池">线程池</span>
            <span class="post-date" title="2024-04-13 10:10:27">2024/04/13</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/04/12/Quartz%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Quartz定时任务">Quartz定时任务</span>
            <span class="post-date" title="2024-04-12 14:01:42">2024/04/12</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/04/11/Vue-js/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Vue.js">Vue.js</span>
            <span class="post-date" title="2024-04-11 20:03:50">2024/04/11</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/04/09/IO/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="IO">IO</span>
            <span class="post-date" title="2024-04-09 16:15:35">2024/04/09</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/04/09/Java%E4%B8%AD%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java中异常机制">Java中异常机制</span>
            <span class="post-date" title="2024-04-09 15:00:09">2024/04/09</span>
        </a>
        
        
        <a  class="全部文章 运维 "
           href="/2024/04/07/%E8%AE%B0%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF/"
           data-tag="部署,服务器"
           data-author="" >
            <span class="post-title" title="记项目上线">记项目上线</span>
            <span class="post-date" title="2024-04-07 21:18:25">2024/04/07</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/04/06/Java%E7%9A%84%E9%94%81/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java的锁">Java的锁</span>
            <span class="post-date" title="2024-04-06 17:46:02">2024/04/06</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/04/06/%E6%B3%9B%E5%9E%8B%E6%9C%BA%E5%88%B6/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="泛型机制">泛型机制</span>
            <span class="post-date" title="2024-04-06 16:06:03">2024/04/06</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/03/30/docker%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%9A%84vim/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="docker容器中的vim">docker容器中的vim</span>
            <span class="post-date" title="2024-03-30 13:55:41">2024/03/30</span>
        </a>
        
        
        <a  class="全部文章 Git "
           href="/2024/03/28/GitHub%E6%90%9C%E7%B4%A2trick/"
           data-tag="搜索技巧"
           data-author="" >
            <span class="post-title" title="GitHub搜索trick">GitHub搜索trick</span>
            <span class="post-date" title="2024-03-28 20:25:08">2024/03/28</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/03/28/ElasticSearch%E5%AD%A6%E4%B9%A0/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ElasticSearch学习">ElasticSearch学习</span>
            <span class="post-date" title="2024-03-28 15:40:47">2024/03/28</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2024/03/23/SQL%E5%A4%8D%E7%9B%98/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SQL复盘">SQL复盘</span>
            <span class="post-date" title="2024-03-23 14:24:28">2024/03/23</span>
        </a>
        
        
        <a  class="全部文章 部署 "
           href="/2024/03/19/Docker/"
           data-tag="docker"
           data-author="" >
            <span class="post-title" title="docker">docker</span>
            <span class="post-date" title="2024-03-19 08:46:07">2024/03/19</span>
        </a>
        
        
        <a  class="全部文章 408 "
           href="/2024/03/16/%E8%AE%A1%E7%BD%91%E5%B0%8F%E8%AE%B0/"
           data-tag="计算机网络"
           data-author="" >
            <span class="post-title" title="计网小记">计网小记</span>
            <span class="post-date" title="2024-03-16 16:17:44">2024/03/16</span>
        </a>
        
        
        <a  class="全部文章 工具 "
           href="/2024/03/15/git%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="git上传代码">git上传代码</span>
            <span class="post-date" title="2024-03-15 09:49:26">2024/03/15</span>
        </a>
        
        
        <a  class="全部文章 数据库 "
           href="/2024/03/15/MySQL%E7%9F%A5%E8%AF%86%E7%82%B9/"
           data-tag="MySQL面试题"
           data-author="" >
            <span class="post-title" title="MySQL知识点">MySQL知识点</span>
            <span class="post-date" title="2024-03-15 09:09:50">2024/03/15</span>
        </a>
        
        
        <a  class="全部文章 Java "
           href="/2024/03/12/JVM%E7%AC%94%E8%AE%B0/"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM笔记">JVM笔记</span>
            <span class="post-date" title="2024-03-12 14:39:20">2024/03/12</span>
        </a>
        
        
        <a  class="全部文章 后端 中间件 "
           href="/2024/03/09/RabbitMQ%E5%AE%9E%E6%88%98/"
           data-tag="消息队列"
           data-author="" >
            <span class="post-title" title="RabbitMQ实战">RabbitMQ实战</span>
            <span class="post-date" title="2024-03-09 11:12:34">2024/03/09</span>
        </a>
        
        
        <a  class="全部文章 数据库 "
           href="/2024/03/07/redis%E7%9A%84%E5%BA%94%E7%94%A8/"
           data-tag="redis的应用"
           data-author="" >
            <span class="post-title" title="redis的应用">redis的应用</span>
            <span class="post-date" title="2024-03-07 20:11:13">2024/03/07</span>
        </a>
        
        
        <a  class="全部文章 后端 "
           href="/2024/03/07/ThreadLocal%E5%9C%A8%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E7%9A%84%E5%BA%94%E7%94%A8/"
           data-tag="ThreadLocal"
           data-author="" >
            <span class="post-title" title="ThreadLocal在多线程下的应用">ThreadLocal在多线程下的应用</span>
            <span class="post-date" title="2024-03-07 15:59:27">2024/03/07</span>
        </a>
        
        
        <a  class="全部文章 数据库 "
           href="/2024/02/23/MybatisPlus/"
           data-tag="MyBatis"
           data-author="" >
            <span class="post-title" title="MybatisPlus">MybatisPlus</span>
            <span class="post-date" title="2024-02-23 09:06:49">2024/02/23</span>
        </a>
        
        
        <a  class="全部文章 Java 基础 "
           href="/2024/02/22/Java%E5%9F%BA%E7%A1%80%E5%B0%8F%E8%AE%B0/"
           data-tag="面试常见知识点"
           data-author="" >
            <span class="post-title" title="Java基础小记">Java基础小记</span>
            <span class="post-date" title="2024-02-22 17:01:44">2024/02/22</span>
        </a>
        
        
        <a  class="全部文章 Java SpringBoot "
           href="/2024/02/21/SpringBoot%E5%B0%8F%E8%AE%B0/"
           data-tag="SpringBoot小记"
           data-author="" >
            <span class="post-title" title="SpringBoot小记">SpringBoot小记</span>
            <span class="post-date" title="2024-02-21 20:25:21">2024/02/21</span>
        </a>
        
        
        <a  class="全部文章 Java 源码分析 "
           href="/2024/02/06/ArrayList%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6/"
           data-tag="ArrayList扩容机制"
           data-author="" >
            <span class="post-title" title="ArrayList扩容机制">ArrayList扩容机制</span>
            <span class="post-date" title="2024-02-06 15:00:14">2024/02/06</span>
        </a>
        
        
        <a  class="全部文章 Hexo "
           href="/2024/01/06/hexo%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87/"
           data-tag="hexo,typora"
           data-author="" >
            <span class="post-title" title="hexo上传图片">hexo上传图片</span>
            <span class="post-date" title="2024-01-06 17:20:13">2024/01/06</span>
        </a>
        
        
        <a  class="全部文章 Java Spring "
           href="/2023/12/15/Spring%E7%AC%94%E8%AE%B0/"
           data-tag="Spring框架"
           data-author="" >
            <span class="post-title" title="Spring笔记">Spring笔记</span>
            <span class="post-date" title="2023-12-15 16:25:35">2023/12/15</span>
        </a>
        
        
        <a  class="全部文章 深度学习 "
           href="/2023/12/01/Experience%20getting%20started%20with%20deep%20learning/"
           data-tag="个人感悟"
           data-author="" >
            <span class="post-title" title="Experience getting started with deep learning">Experience getting started with deep learning</span>
            <span class="post-date" title="2023-12-01 14:24:00">2023/12/01</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-Spring笔记" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Spring笔记</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Java">Java</a> > 
            
            <a  data-rel="Java&lt;---&gt;Spring">Spring</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">Spring框架</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2024-03-22 10:34:06'>2023-12-15 16:25</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:3.6k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring%E6%A1%86%E6%9E%B6%E4%B8%A4%E5%A4%A7%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6-IOC%E3%80%81AOP"><span class="toc-text">Spring框架两大核心机制(IOC、AOP)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8IOC"><span class="toc-text">如何使用IOC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IOC%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-text">IOC底层原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E8%BF%90%E8%A1%8C%E6%97%B6%E7%B1%BB%E8%8E%B7%E5%8F%96bean"><span class="toc-text">通过运行时类获取bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%9C%89%E5%8F%82%E6%9E%84%E9%80%A0%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-text">通过有参构造创建对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99bean%E6%B3%A8%E5%85%A5%E9%9B%86%E5%90%88"><span class="toc-text">给bean注入集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scope%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">scope作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-text">Spring的继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="toc-text">Spring的依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E7%9A%84-p-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-text">Spring的 p 命名空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E7%9A%84%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95"><span class="toc-text">Spring的工厂方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IOC%E8%87%AA%E5%8A%A8%E8%A3%85%E8%BD%BD%EF%BC%88Autowire%EF%BC%89"><span class="toc-text">IOC自动装载（Autowire）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AOP"><span class="toc-text">AOP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%EF%BC%9F"><span class="toc-text">如何使用？</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Spring框架两大核心机制-IOC、AOP"><a href="#Spring框架两大核心机制-IOC、AOP" class="headerlink" title="Spring框架两大核心机制(IOC、AOP)"></a>Spring框架两大核心机制(IOC、AOP)</h2><ul>
<li>IOC（控制反转）&#x2F; DI （依赖注入）</li>
<li>AOP （面向切面编程）</li>
</ul>
<p>Spring是一个企业级的开发框架，是软件设计层面的框架，优势在于可以将应用程序进行分层，开发者可以自主选择组件。</p>
<p>MVC：Struts2、Spring MVC</p>
<p>ORMapping：Hibernate、Mybatis、Spring Data</p>
<p>什么是控制反转：对象由调用者主动new出来。而在Spring中创建对象由IOC容器创建，再推送给调用者，整个流程完成反转，就称作控制反转。</p>
<h2 id="如何使用IOC"><a href="#如何使用IOC" class="headerlink" title="如何使用IOC"></a>如何使用IOC</h2><ul>
<li>创建Maven工程，添加pom.xml依赖</li>
</ul>
<pre><code class="highlight java">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
        &lt;version&gt;<span class="number">5.3</span><span class="number">.29</span>&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>

<ul>
<li><p>创建实体类Student</p>
<pre><code class="highlight java"><span class="keyword">package</span> com.study.entity;

<span class="keyword">import</span> lombok.Data;

<span class="meta">@Data</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;
    <span class="keyword">private</span> <span class="type">long</span> id;
    <span class="keyword">private</span> String name;
    <span class="keyword">private</span> <span class="type">int</span> age;
&#125;</code></pre>
</li>
<li><p>传统的开发方式  手动new</p>
</li>
<li><p>通过IOC创建对象，在XML配置文件中添加需要管理的对象</p>
</li>
</ul>
<pre><code class="highlight xml"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span>
<span class="tag">&lt;<span class="name">beans</span></span>
<span class="tag">        <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="tag">        <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="tag">        <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span>
<span class="string"><span class="tag">		http://www.springframework.org/schema/beans</span></span>
<span class="string"><span class="tag">		http://www.springframework.org/schema/beans/spring-beans.xsd</span></span>
<span class="string"><span class="tag">		http://www.springframework.org/schema/context</span></span>
<span class="string"><span class="tag">		http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span>

    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Student&quot;</span>&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;wdcp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;22&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span>
<span class="tag">&lt;/<span class="name">beans</span>&gt;</span>
</code></pre>

<ul>
<li>从IOC中获取对象</li>
</ul>
<pre><code class="highlight java"><span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring.xml&quot;</span>);
<span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) applicationContext.getBean(<span class="string">&quot;student&quot;</span>);
System.out.println(student);</code></pre>

<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><ul>
<li><p>通过配置<code>bean</code>标签完成对象的管理</p>
<ul>
<li>id : 对象名</li>
<li>class：对象的模版类（所有交给IOC构建的对象都要有无参构造，因为Spring底层是通过反射机制创建对象的，反射机制调用的是无参构造）</li>
</ul>
</li>
<li><p>成员变量通过<code>property</code> 标签完成赋值</p>
<ul>
<li><code>name</code>：成员变量名</li>
<li><code>value</code>：成员变量的值（基本数据类型，Spring可以直接赋值，其他类型不能通过value赋值）</li>
<li><code>ref</code>：将IOC中的另外一个bean赋值给当前变量（DI 依赖注入）</li>
</ul>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Student&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;wdcp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;22&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;address&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
<span class="tag">&lt;/<span class="name">bean</span>&gt;</span>
  
<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;address&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Address&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;南京路&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></code></pre></li>
</ul>
<h3 id="IOC底层原理"><a href="#IOC底层原理" class="headerlink" title="IOC底层原理"></a>IOC底层原理</h3><ul>
<li>读取配置文件，解析XML</li>
<li>通过反射机制实例化配置文件中所配置的所有bean。</li>
</ul>
<h3 id="通过运行时类获取bean"><a href="#通过运行时类获取bean" class="headerlink" title="通过运行时类获取bean"></a>通过运行时类获取bean</h3><pre><code class="highlight java"><span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring.xml&quot;</span>);
<span class="type">Student</span> <span class="variable">st</span> <span class="operator">=</span> applicationContext.getBean(Student.class);
System.out.println(st);</code></pre>

<p>这种方式存在问题，配置文件中一个数据类型对象只能有一个实例，因为是通过Class中获取的，Class中数据类型是一样的。</p>
<h3 id="通过有参构造创建对象"><a href="#通过有参构造创建对象" class="headerlink" title="通过有参构造创建对象"></a>通过有参构造创建对象</h3><ul>
<li><p>在实体类中创建有参函数</p>
</li>
<li><p>配置文件</p>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Student&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span>
    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;xiaoming&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span>
    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;15&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span>
    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;address&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span>
<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></code></pre></li>
</ul>
<h3 id="给bean注入集合"><a href="#给bean注入集合" class="headerlink" title="给bean注入集合"></a>给bean注入集合</h3><pre><code class="highlight xml"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Student&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;www&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;22&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;addresses&quot;</span> &gt;</span>
        <span class="tag">&lt;<span class="name">list</span>&gt;</span>
            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;address&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span>
            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;address2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">list</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">property</span>&gt;</span>
  
<span class="tag">&lt;/<span class="name">bean</span>&gt;</span>
<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;address&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Address&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;南京路&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
<span class="tag">&lt;/<span class="name">bean</span>&gt;</span>

<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;address2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Address&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;北京路&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></code></pre>

<h3 id="scope作用域"><a href="#scope作用域" class="headerlink" title="scope作用域"></a>scope作用域</h3><p>Spring管理的bean是根据bean来生成的，表示bean的作用域，共4种，默认是singleton。</p>
<ul>
<li>singleton：单例，表示通过Spring容器获取的bean是唯一的。</li>
<li>prototype：原型，表示通过Spring容器获取的bean是不同的。</li>
<li>request：请求，表示在一次HTTP请求内有效。</li>
<li>session：会话，表示在一个用户会话内有效。</li>
</ul>
<p>request 和 session 只适用于Web项目，大多数情况下，使用单例和原型较多。</p>
<p>request模式在加载配置文件时就创建了xml中所有的bean。</p>
<p>prototype模式当业务代码获取IOC容器中的bean时，Spring才去调用无参构造创建对应的bean。</p>
<h3 id="Spring的继承"><a href="#Spring的继承" class="headerlink" title="Spring的继承"></a>Spring的继承</h3><p>与JAVA中的继承不同，JAVA是类层面的继承，子类可以继承父类的结构和信息；Spring是对象层面的继承，子对象可以继承父对象的属性值。</p>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Student&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;lala&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;19&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;addresses&quot;</span>&gt;</span>
        <span class="tag">&lt;<span class="name">list</span>&gt;</span>
            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;address&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span>
            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;address2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span>
        <span class="tag">&lt;/<span class="name">list</span>&gt;</span>
    <span class="tag">&lt;/<span class="name">property</span>&gt;</span>
<span class="tag">&lt;/<span class="name">bean</span>&gt;</span>

<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Student&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;student2&quot;</span>&gt;</span>
    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;lisi&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span>
<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></code></pre>

<ul>
<li>不同类型的对象某些情况也是可以继承的，需要子对象的属性包含父对象的属性。</li>
</ul>
<h3 id="Spring的依赖"><a href="#Spring的依赖" class="headerlink" title="Spring的依赖"></a>Spring的依赖</h3><p>与继承类似，依赖也是描述bean和bean之间的一种关系，配置依赖后，被依赖的bean先创建，再创建依赖的bean。如A依赖于B，则先创建B，再创建A。</p>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.User&quot;</span> <span class="attr">depends-on</span>=<span class="string">&quot;student&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>

<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Student&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></code></pre>

<h3 id="Spring的-p-命名空间"><a href="#Spring的-p-命名空间" class="headerlink" title="Spring的 p 命名空间"></a>Spring的 p 命名空间</h3><p>p 命名空间是对IOC &#x2F; DI的简化操作，使用 p 命名空间可以更加方便的完成bean的配置以及bean之间的依赖注入。</p>
<h3 id="Spring的工厂方法"><a href="#Spring的工厂方法" class="headerlink" title="Spring的工厂方法"></a>Spring的工厂方法</h3><p>IOC通过工厂模式创建 bean 的方式有两种：</p>
<ul>
<li>静态工厂模式</li>
<li>实例工厂方法</li>
</ul>
<p>静态工厂方法：</p>
<pre><code class="highlight java"><span class="keyword">package</span> com.study.entity;

<span class="keyword">import</span> lombok.AllArgsConstructor;
<span class="keyword">import</span> lombok.Data;
<span class="keyword">import</span> lombok.NoArgsConstructor;

<span class="meta">@Data</span>
<span class="meta">@AllArgsConstructor</span>
<span class="meta">@NoArgsConstructor</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;
    <span class="keyword">private</span> <span class="type">long</span> id;
    <span class="keyword">private</span> String name;
&#125;</code></pre>

<pre><code class="highlight java"><span class="keyword">package</span> com.study.factory;

<span class="keyword">import</span> com.study.entity.Car;

<span class="keyword">import</span> java.util.HashMap;
<span class="keyword">import</span> java.util.Map;

<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StaticCarFactory</span> &#123;
    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Long, Car&gt; carMap;
    <span class="keyword">static</span> &#123;
        carMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();
        carMap.put(<span class="number">1L</span>, <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="number">1L</span>, <span class="string">&quot;大G&quot;</span>));
        carMap.put(<span class="number">2L</span>, <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="number">2L</span>, <span class="string">&quot;宝马&quot;</span>));
    &#125;
    <span class="keyword">public</span> <span class="keyword">static</span> Car <span class="title function_">getCar</span><span class="params">(<span class="type">long</span> id)</span>&#123;
        <span class="keyword">return</span> carMap.get(id);
    &#125;
&#125;</code></pre>

<pre><code class="highlight java">&lt;!--配置静态工厂创建bean--&gt;
    &lt;bean id=<span class="string">&quot;car&quot;</span> class=<span class="string">&quot;com.study.factory.StaticCarFactory&quot;</span> factory-method=<span class="string">&quot;getCar&quot;</span>&gt;
        &lt;constructor-arg value=<span class="string">&quot;1&quot;</span>&gt;&lt;/constructor-arg&gt;
    &lt;/bean&gt;</code></pre>

<p>实例工厂方法：</p>
<pre><code class="highlight java"><span class="keyword">package</span> com.study.factory;

<span class="keyword">import</span> com.study.entity.Car;

<span class="keyword">import</span> java.util.HashMap;
<span class="keyword">import</span> java.util.Map;

<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InstanceCarFactory</span> &#123;
    <span class="keyword">private</span> Map&lt;Long, Car&gt; map;

    <span class="keyword">public</span> <span class="title function_">InstanceCarFactory</span><span class="params">()</span> &#123;
        map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();
        map.put(<span class="number">1L</span>, <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="number">1L</span>, <span class="string">&quot;大奔&quot;</span>));
        map.put(<span class="number">2L</span>, <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="number">2L</span>, <span class="string">&quot;沃尔沃&quot;</span>));
    &#125;

    <span class="keyword">public</span> Car <span class="title function_">getCar</span><span class="params">(<span class="type">long</span> id)</span>&#123;
        <span class="keyword">return</span> map.get(id);
    &#125;
&#125;</code></pre>

<pre><code class="highlight java"><span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring-factory.xml&quot;</span>);
<span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> (Car) applicationContext.getBean(<span class="string">&quot;car2&quot;</span>);
System.out.println(car);</code></pre>

<pre><code class="highlight java">&lt;!--实例工厂创建bean--&gt;
&lt;bean id=<span class="string">&quot;carFactory&quot;</span> class=<span class="string">&quot;com.study.factory.InstanceCarFactory&quot;</span>&gt;&lt;/bean&gt;

&lt;bean id=<span class="string">&quot;car2&quot;</span> class=<span class="string">&quot;com.study.entity.Car&quot;</span> factory-bean=<span class="string">&quot;carFactory&quot;</span> factory-method=<span class="string">&quot;getCar&quot;</span>&gt;
    &lt;constructor-arg value=<span class="string">&quot;2&quot;</span>&gt;&lt;/constructor-arg&gt;
&lt;/bean&gt;</code></pre>

<h3 id="IOC自动装载（Autowire）"><a href="#IOC自动装载（Autowire）" class="headerlink" title="IOC自动装载（Autowire）"></a>IOC自动装载（Autowire）</h3><p>IOC负责创建对象，DI完成对象的依赖注入，通过配置property标签的 ref 属性完成，同时Spring提供了更加简便的依赖注入方式：自动装载，不需要手动配置property，IOC容器会自动选择 bean 完成注入。</p>
<p>自动装载有两种方式：</p>
<ul>
<li>byName：通过属性名自动装载</li>
</ul>
<blockquote>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cars&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Car&quot;</span> <span class="attr">p:id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;大奔&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>

<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;person&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Person&quot;</span> <span class="attr">p:id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;wdcp&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></code></pre>
</blockquote>
<ul>
<li>byType：通过属性的类型自动装载</li>
</ul>
<blockquote>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cars&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Car&quot;</span> <span class="attr">p:id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;大奔&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>

<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;person&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.study.entity.Person&quot;</span> <span class="attr">p:id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;wdcp&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></code></pre>
</blockquote>
<p>byType需要注意，如果同时存在两个及以上的bean时，会抛出异常。</p>
<h2 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h2><p>AOP：Aspect Oriented Programming 面向切面编程</p>
<p>AOP的优点：</p>
<ul>
<li>降低模块的耦合度</li>
<li>使系统更容易扩展</li>
<li>更好的代码服用</li>
<li>非业务代码更加集中，便于统一管理</li>
<li>业务代码更加简洁，不掺杂其他代码影响</li>
</ul>
<p>AOP是对面向对象编程的一个补充，在运行时，动态地将代码切入到类的指定方法、指定对象上的编程思想就是面向切面编程。将不同方法的同一位置抽象成一个切面对象，对该切面对象进行编程就是AOP。</p>
<h3 id="如何使用？"><a href="#如何使用？" class="headerlink" title="如何使用？"></a>如何使用？</h3><ul>
<li>创建Maven工程，pom.xml添加</li>
</ul>
<blockquote>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
<span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

<span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
<span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

<span class="tag">&lt;<span class="name">dependency</span>&gt;</span>
<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>
<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>
<span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span>
<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>

<span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></code></pre>
</blockquote>
<ul>
<li>创建一个计算器接口，创建加减乘除方法</li>
</ul>
<pre><code class="highlight java"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalImpl</span> <span class="keyword">implements</span> <span class="title class_">Cal</span> &#123;

    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;
        System.out.println(<span class="string">&quot;add方法的参数是[&quot;</span> + num1 +<span class="string">&quot;,&quot;</span> + num2+<span class="string">&quot;]&quot;</span> );
        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> num1 + num2;
        System.out.println(<span class="string">&quot;结果是&quot;</span> + result);
        <span class="keyword">return</span> result;
    &#125;

    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;
        System.out.println(<span class="string">&quot;sub方法的参数是[&quot;</span> + num1 +<span class="string">&quot;,&quot;</span> + num2+<span class="string">&quot;]&quot;</span> );
        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> num1 - num2;
        System.out.println(<span class="string">&quot;结果是&quot;</span> + result);
        <span class="keyword">return</span> result;
    &#125;

    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;
        System.out.println(<span class="string">&quot;mul方法的参数是[&quot;</span> + num1 +<span class="string">&quot;,&quot;</span> + num2+<span class="string">&quot;]&quot;</span> );
        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> num1 * num2;
        System.out.println(<span class="string">&quot;结果是&quot;</span> + result);
        <span class="keyword">return</span> result;
    &#125;

    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">div</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;
        System.out.println(<span class="string">&quot;div方法的参数是[&quot;</span> + num1 +<span class="string">&quot;,&quot;</span> + num2+<span class="string">&quot;]&quot;</span> );
        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> num1 / num2;
        System.out.println(<span class="string">&quot;结果是&quot;</span> + result);
        <span class="keyword">return</span> result;
    &#125;
&#125;</code></pre>



<p>上述代码中，日志信息和业务逻辑的耦合性很高，不利于系统的维护，使用AOP可以进行优化，如何实现AOP？使用动态代理的方式来实现。</p>
<p>给业务代码找一个代理，打印日志信息的工作交给代理来做，这样的话业务代码只需关注自身业务即可。</p>
<pre><code class="highlight java"><span class="keyword">package</span> com.study.utils;

<span class="keyword">import</span> java.lang.reflect.InvocationHandler;
<span class="keyword">import</span> java.lang.reflect.Method;
<span class="keyword">import</span> java.lang.reflect.Proxy;
<span class="keyword">import</span> java.util.Arrays;

<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInvocationHandler</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;
  <span class="comment">// 这不是代理类，这个类帮助我们去创建动态代理类</span>
  <span class="comment">// 接收委托对象</span>
  <span class="keyword">private</span> <span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> <span class="literal">null</span>;

  <span class="comment">// 返回代理对象</span>
  <span class="keyword">public</span> Object <span class="title function_">bind</span><span class="params">(Object object)</span> &#123;
      <span class="built_in">this</span>.object = object;
      <span class="keyword">return</span> Proxy.newProxyInstance(object.getClass().getClassLoader(), object.getClass().getInterfaces(), <span class="built_in">this</span>);
  &#125;

  <span class="meta">@Override</span>
  <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;
      <span class="comment">// 这里将业务代码和日志代码进行解耦</span>
      System.out.println(method.getName() + <span class="string">&quot;方法的参数是&quot;</span> + Arrays.toString(args));
      <span class="type">Object</span> <span class="variable">res</span> <span class="operator">=</span> method.invoke(<span class="built_in">this</span>.object, args);  <span class="comment">// 业务代码</span>
      System.out.println(method.getName() + <span class="string">&quot;的结果是&quot;</span> + res);
      <span class="keyword">return</span> res;
  &#125;
&#125;</code></pre>

<p>以上是通过动态代理实现AOP的过程，不好理解，Spring框架对AOP进行了封装，使用Spring框架可以用面向对象的思想实现AOP。</p>
<p>Spring 框架中不需要创建 InvocationHandler，只需要创建一个切面对象，将所有的非业务代码在切面对象中完成，Spring 框架底层会根据切面类以及目标类生成一个代理对象。</p>
<p>LoggerAspect</p>
<pre><code class="highlight java"><span class="keyword">package</span> com.study.aop;

<span class="keyword">import</span> org.aspectj.lang.JoinPoint;
<span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;
<span class="keyword">import</span> org.aspectj.lang.annotation.Before;
<span class="keyword">import</span> org.springframework.stereotype.Component;

<span class="keyword">import</span> java.util.Arrays;

<span class="meta">@Aspect</span>
<span class="meta">@Component</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoggerAspect</span> &#123;
    <span class="comment">// 非业务代码</span>
    <span class="meta">@Before(&quot;execution(public int com.study.impl.CalImpl.*(..))&quot;)</span>
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">(JoinPoint joinPoint)</span>&#123;
        <span class="comment">// 获取方法名</span>
        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> joinPoint.getSignature().getName();
        <span class="comment">// 获取参数</span>
        <span class="type">String</span> <span class="variable">args</span> <span class="operator">=</span> Arrays.toString(joinPoint.getArgs());
        System.out.println(name + <span class="string">&quot;方法的参数是&quot;</span> + args);
    &#125;
&#125;</code></pre>

<p>LoggerAspect两个注解：</p>
<ul>
<li>@Aspect 表示该类是切面类</li>
<li>@Component 将该类的对象注入到 IOC 容器</li>
</ul>
<p>具体方法处添加的注解：</p>
<ul>
<li>@Before 表示方法执行的具体位置和时机</li>
</ul>
<p>CalImpl 也需要添加 @Component，交给 IOC 管理</p>
<pre><code class="highlight java"><span class="keyword">package</span> com.study.impl;

<span class="keyword">import</span> com.study.utils.Cal;
<span class="keyword">import</span> org.springframework.stereotype.Component;

<span class="meta">@Component</span>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalImpl</span> <span class="keyword">implements</span> <span class="title class_">Cal</span> &#123;

    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;
        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> num1 + num2;
        <span class="keyword">return</span> result;
    &#125;

    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;
        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> num1 - num2;
        <span class="keyword">return</span> result;
    &#125;

    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">mul</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;
        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> num1 * num2;
        <span class="keyword">return</span> result;
    &#125;

    <span class="meta">@Override</span>
    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">div</span><span class="params">(<span class="type">int</span> num1, <span class="type">int</span> num2)</span> &#123;
        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> num1 / num2;
        <span class="keyword">return</span> result;
    &#125;
&#125;</code></pre>

<p>Spring.xml 也需要配置 AOP</p>
<pre><code class="highlight xml"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span>
<span class="tag">&lt;<span class="name">beans</span></span>
<span class="tag">        <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="tag">        <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="tag">        <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="tag">        <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span>
<span class="tag">        <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;</span></span>
<span class="string"><span class="tag">		http://www.springframework.org/schema/beans</span></span>
<span class="string"><span class="tag">		http://www.springframework.org/schema/beans/spring-beans.xsd</span></span>
<span class="string"><span class="tag">		http://www.springframework.org/schema/context</span></span>
<span class="string"><span class="tag">		http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span>

        <span class="comment">&lt;!-- 自动扫描 --&gt;</span>
        <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.study&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span>

    <span class="comment">&lt;!-- 使Aspect注解生效 为目标类自动生成代理对象--&gt;</span>
    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span>

<span class="tag">&lt;/<span class="name">beans</span>&gt;</span></code></pre>

<p><code>context:component-scan</code> 将 <code>com.study</code> 包中所有类进行扫描，如果该类同时添加了 <code>@Component</code>，则将该类添加到 IOC 容器中，让 IOC 管理它的对象。</p>
<p><code>aop:aspectj-autoproxy</code> 让Spring框架结合切面类和目标类自动生成动态代理对象。</p>
<ul>
<li>切面：横切关注点被模块化的抽象对象。</li>
<li>通知：切面对象完成的工作。（非业务代码）</li>
<li>目标：被通知的对象，即被横切的对象。</li>
<li>代理：切面、通知、目标混合之后的对象。</li>
<li>连接点：通知要插入代码的具体位置。</li>
<li>切点：AOP 通过切点定位到连接点。</li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 1216271933@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '64aea8ab1c48d35b7ec1',
            clientSecret: '8c6dd671fc89983d9e4134d3e964f99e5ec931d7',
            repo: 'leiichen.github.io',
            owner: 'leiichen',
            admin: ['leiichen'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
        src="//cdn.jsdelivr.net/npm/mathjax@2.7.8/unpacked/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<input type="hidden" id="MathJax-js"
        value="//cdn.jsdelivr.net/npm/mathjax@2.7.8/unpacked/MathJax.js?config=TeX-MML-AM_CHTML">
</input>
    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2016-2023 leiichen
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
